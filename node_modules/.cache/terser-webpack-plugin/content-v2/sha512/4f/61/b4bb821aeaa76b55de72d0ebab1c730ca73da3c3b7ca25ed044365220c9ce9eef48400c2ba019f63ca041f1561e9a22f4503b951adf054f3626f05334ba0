{"code":"module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){e.exports=require(\"react\")},function(e,t,n){\"use strict\";n.r(t);var r=n(0),o=n.n(r),i=function(e,t){var n=this;this.animateIf=function(e){return n.self.style.transition=e?\"all .15s ease\":\"\"},this.applyMouseDownStyle=function(e){n.self.style.cursor=\"grabbing\",n.self.style.transition=\"\",n.self.style.zIndex=\"9999\",n.move(e)},this.hoveringNear=function(e){var t=e.clientX,r=e.clientY,o=n.rect(),i=o.right,u=o.y;return t>i&&t<n.dropZone.container.getBoundingClientRect().right&&r>u&&r<n.dropZone.container.getBoundingClientRect().bottom},this.isHovered=function(e){var t=e.clientX,r=e.clientY,o=n.rect(),i=o.x,u=o.y,c=o.right,f=o.bottom;return t>i&&t<c&&r>u&&r<f},this.isLeftSideHovered=function(e){var t=e.clientX,r=n.rect();return t<r.x+r.width/2},this.getFullWidth=function(){return n.self.scrollWidth+(parseInt(n.self.style.borderLeft||\"0\")+parseInt(n.self.style.borderRight||\"0\"))},this.getCurrentDropZone=function(){return n.dropZone},this.getRealParent=function(){return n.self.parentElement},this.getRealParentOffset=function(){var e,t;return{xOffset:n.dropZone.container.getBoundingClientRect().x-((null===(e=n.getRealParent())||void 0===e?void 0:e.getBoundingClientRect().x)||0),yOffset:n.dropZone.container.getBoundingClientRect().y-((null===(t=n.getRealParent())||void 0===t?void 0:t.getBoundingClientRect().y)||0)}},this.getPositionInDropZone=function(e){return e.items.indexOf(n)},this.landInDropZone=function(e){var t=n.getRealParentOffset();n.self.style.marginLeft=e.xOffset+t.xOffset+\"px\",n.self.style.marginTop=e.yOffset+t.yOffset+\"px\",n.self.style.cursor=\"grab\"},this.move=function(e){var t=n.getRealParentOffset(),r=t.xOffset,o=t.yOffset;n.self.style.marginLeft=e.clientX-n.self.clientWidth/2-n.dropZone.container.getBoundingClientRect().x+r+\"px\",n.self.style.marginTop=e.clientY-n.self.clientHeight/2-n.dropZone.container.getBoundingClientRect().y+o+\"px\"},this.rect=function(){return n.self.getBoundingClientRect()},this.updateDropZone=function(e){return n.dropZone=e},this.dropZone=e,this.self=t},u=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},f=function(){function e(e){var t,n=this;this.indexOfItem=function(e){return n.items.indexOf(e)},this.insertItemAt=function(e,t){n.items.splice(e,0,t),t.updateDropZone(n)},this.removeItemAt=function(e){return n.items.splice(e,1)},this.switchItemPosition=function(e,t){return n.insertItemAt(t,n.removeItemAt(e)[0])},this.container=e,e.style.transition=\"height .2s ease\",this.items=(t=e.children,c(t)).map((function(e){return new i(n,e)}))}return Object.defineProperty(e.prototype,\"id\",{get:function(){return this.container.id},enumerable:!1,configurable:!0}),e}();!function(){var e=new Error(\"Cannot find module 'react/jsx-runtime'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},d=function(e){return a(e)};t.default=function(e){var t=e.children,n=e.gridGap,r=void 0===n?0:n,i=e.onChildrenReposition,u=e.wrapperClassname,c=o.a.useRef(null),l=o.a.useRef(),a=o.a.useRef(!1),p=o.a.useRef({}),m=o.a.useRef(),h=o.a.useRef([]),v=o.a.useCallback((function(e){void 0===e&&(e=!0),c.current&&(a.current=!0,setTimeout((function(){return a.current=!1}),150),h.current.forEach((function(t){t.container.style.minHeight||(t.container.style.minHeight=\"30px\");var n=t.container.clientWidth,o=r,i=r,u=0;t.items.forEach((function(f,s){f.self.style.position=\"absolute\",o+f.getFullWidth()+r>n&&(o=r,i=u),f.animateIf(f!==l.current&&e),f.landInDropZone({xOffset:o,yOffset:i}),o+=f.getFullWidth()+r,f.self.onmousedown=function(e){!l.current&&c.current&&(f.applyMouseDownStyle(e),l.current=f,p.current.from={dropZone:t,index:s},m.current={dropZone:t,index:s})},f.rect().height+i>u&&(u=i+f.rect().height+r)})),t.container.style.height=u+\"px\"})))}),[]),g=o.a.useCallback((function(e){var t;return null===(t=l.current)||void 0===t?void 0:t.move(e)}),[l]);return o.a.useEffect((function(){if(c.current){var e=[];d(c.current.children).forEach((function(t){t.id?e.push(new f(t)):d(t.children).forEach((function(t){t.id?e.push(new f(t)):d(t.children).forEach((function(t){t.id&&e.push(new f(t))}))}))})),h.current=e,c.current.onmousemove||(c.current.onmousemove=function(e){for(var t,n=0;n<h.current.length;n++){var r=h.current[n];if(!l.current||a.current)break;if(!r.items.length&&e.clientX>r.container.getBoundingClientRect().x&&e.clientX<r.container.getBoundingClientRect().right&&e.clientY>r.container.getBoundingClientRect().y&&e.clientY<r.container.getBoundingClientRect().bottom){m.current&&(m.current.dropZone.removeItemAt(m.current.index),r.items.push(l.current),l.current.updateDropZone(r),p.current.to={dropZone:r,index:0},m.current={dropZone:r,index:0},v());break}for(var o=0;o<r.items.length;o++){var i=r.items[o];if(l.current!==i){if(i.isHovered(e)){if(-1===(s=r.indexOfItem(l.current))){var u=o+(i.isLeftSideHovered(e)?0:1);m.current&&(m.current.dropZone.removeItemAt(m.current.index),r.insertItemAt(u,l.current),p.current.to={dropZone:r,index:-1===u?0:u},m.current={dropZone:r,index:u},v())}else{var c=i.isLeftSideHovered(e),f=s>o;(u=c&&!f?o-1:c&&f?o:c||f?o+1:o)!==s&&(r.switchItemPosition(s,-1===u?0:u),p.current.to={dropZone:r,index:-1===u?0:u},m.current={dropZone:r,index:u},v())}break}var s;if((null===(t=r.items[o+1])||void 0===t?void 0:t.rect().y)!==i.rect().y&&i.hoveringNear(e))if(-1===(s=r.indexOfItem(l.current)))m.current&&(m.current.dropZone.removeItemAt(m.current.index),r.insertItemAt(o+1,l.current),p.current.to={dropZone:r,index:o+1},m.current={dropZone:r,index:o+1},v());else if(s!==o){f=s>o;r.switchItemPosition(s,f?o+1:o),p.current.to={dropZone:r,index:f?o+1:o},m.current={dropZone:r,index:f?o+1:o},v()}}}}}),v(!1)}}),[t,v]),o.a.useEffect((function(){var e=function(){l.current&&(l.current.self.style.zIndex=\"1\",l.current.self.style.transition=\"all .15s ease\",l.current.self.style.cursor=\"grab\",l.current=void 0,v(),setTimeout((function(){void 0!==p.current.from&&void 0!==p.current.to&&i(p.current.from.dropZone.id,p.current.from.index,p.current.to.dropZone.id,p.current.to.index),p.current={},m.current=void 0}),150))};return document.addEventListener(\"mouseup\",e),document.addEventListener(\"mousemove\",g),function(){document.removeEventListener(\"mouseup\",e),document.removeEventListener(\"mousemove\",g)}}),[g,v,i]),!function(){var e=new Error(\"Cannot find module 'react/jsx-runtime'\");throw e.code=\"MODULE_NOT_FOUND\",e}()(\"div\",s({style:{display:\"flex\",position:\"relative\"},className:u,ref:c},{children:t}),void 0)}}]);","extractedComments":[]}